JSNES.Keyboard=function(){var i;this.keys={KEY_A:0,KEY_B:1,KEY_SELECT:2,KEY_START:3,KEY_UP:4,KEY_DOWN:5,KEY_LEFT:6,KEY_RIGHT:7};this.state1=new Array(8);for(i=0;i<this.state1.length;i++){this.state1[i]=0x40;}this.state2=new Array(8);for(i=0;i<this.state2.length;i++){this.state2[i]=0x40;}};JSNES.Keyboard.prototype={setKey:function(key,value){switch(key){case 75:this.state1[this.keys.KEY_A]=value;break;case 74:this.state1[this.keys.KEY_B]=value;break;case 74:this.state1[this.keys.KEY_B]=value;break;case 17:this.state1[this.keys.KEY_SELECT]=value;break;case 13:this.state1[this.keys.KEY_START]=value;break;case 87:this.state1[this.keys.KEY_UP]=value;break;case 83:this.state1[this.keys.KEY_DOWN]=value;break;case 65:this.state1[this.keys.KEY_LEFT]=value;break;case 68:this.state1[this.keys.KEY_RIGHT]=value;break;case 103:this.state2[this.keys.KEY_A]=value;break;case 105:this.state2[this.keys.KEY_B]=value;break;case 99:this.state2[this.keys.KEY_SELECT]=value;break;case 97:this.state2[this.keys.KEY_START]=value;break;case 104:this.state2[this.keys.KEY_UP]=value;break;case 98:this.state2[this.keys.KEY_DOWN]=value;break;case 100:this.state2[this.keys.KEY_LEFT]=value;break;case 102:this.state2[this.keys.KEY_RIGHT]=value;break;default:return true;}return false;},keyDown:function(evt){if(!this.setKey(evt.keyCode,0x41)&&evt.preventDefault){evt.preventDefault();}},keyUp:function(evt){if(!this.setKey(evt.keyCode,0x40)&&evt.preventDefault){evt.preventDefault();}},keyPress:function(evt){evt.preventDefault();}};